<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>

    <script src="setting.js"></script>
    <script src="Cookie.js"></script>
    <script src="HTTP2019.js"></script>



    <script>
        var myObj = {
            "resourceType": "PractitionerRole",
            "identifier": [{
                "system": "PractitionerID",
                "value": "P0002"
            }],
            "active": true,
            "code": [{
                "coding": [{
                    "system": "http://hl7.org/fhir/R4/valueset-practitioner-role.html",
                    "code": "doctor",
                    "display": "Doctor"
                }]
            }],
            "practitioner": {
                "reference": "Practitioner/2879110",
                "display": "Elon Musk"
            },
            "organization": {
                "reference": "Organization/2879043",
                "display": "Oxford Hospital"
            },
            "telecom": [{
                "system": "email",
                "value": "elonmusk@oxfuni.com",
                "use": "work"
            }]
        }

        function postData() {
            myObj.identifier[0].value = document.getElementById("prid").value;
            myObj.code[0].coding[0].code = document.getElementById("career1").value;
            myObj.code[0].coding[0].display = document.getElementById("career1").value;
            myObj.practitioner.display = document.getElementById("name1").value;
            myObj.organization.display = document.getElementById("place1").value;
            //myObj.telecom.value = document.getElementById("email1").value;

            //PractitionerRole:2879113

            alert("aaa");

            var jsonStr = JSON.stringify(myObj);
            //alert(jsonStr);
            var apiURL;
            apiURL = FHIRrootURL + '/' + "PractitionerRole";
            HTTPPostData(apiURL, jsonStr);
        }

        //practitioner:2879110
    </script>
</head>

<body style="height:780px">

    <br><br>您的職業代碼ID：
    <input type="text" id="prid">

    <br><br>您的職業：
    <select id="career1"><br>
        <option value="doctor">醫生</option>
        <option value="nurse">護理師</option>
        <option value="administration">行政人員</option>
    </select>

    <br><br>您的姓名：
    <input type="text" id="name1">

    <br><br>您服務的單位：
    <input type="text" id="place1">

    <br><br>您的email：
    <input type="text" id="email1">


    <br><br><input id="Button1" onclick="postData()" type="button" value="postData" /><br><br>

</body>

</html>